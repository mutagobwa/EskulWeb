<style>
    .info-box {
        box-shadow: 0 0 1px rgba(0,0,0,.125), 0 1px 3px rgba(0,0,0,.2);
        border-radius: 0.25rem;
        background-color: #fff;
        display: -ms-flexbox;
        display: flex;
        margin-bottom: 1rem;
        min-height: 70px;
        padding: 0.5rem;
        position: relative;
        width: 100%;
        height: 20px;
    }

        .info-box .info-box-icon {
            border-radius: 0.25rem;
            -ms-flex-align: center;
            align-items: center;
            display: -ms-flexbox;
            display: flex;
            font-size: 1.875rem;
            -ms-flex-pack: center;
            justify-content: center;
            text-align: center;
            width: 50px;
        }
</style>
<br />
<section class="content">
    <div class="container-fluid">
        <!-- Info boxes -->
        <div class="row">
            <div class="col-12 col-sm-6 col-md-3">
                <div class="info-box">
                    <span class="info-box-icon bg-info elevation-1"><i class="far fa-calendar-alt" style="color:azure;"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Total Cases</span>
                        <span class="info-box-number">@TempData["TotalIncidentsByTerm"]</span>
                    </div>
                    <!-- /.info-box-content -->
                </div>
                <!-- /.info-box -->
            </div>
            <!-- /.col -->
            <div class="col-12 col-sm-6 col-md-3">
                <div class="info-box">
                    <span class="info-box-icon bg-danger elevation-1"><i class=" far fa-times-circle" style="color:azure;"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">UnReviewed Cases</span>
                        <span class="info-box-number">@TempData["UnreviedByTerm"]</span>
                    </div>
                    <!-- /.info-box-content -->
                </div>
                <!-- /.info-box -->
            </div>
            <!-- /.col -->
            <!-- fix for small devices only -->
            <div class="clearfix hidden-md-up"></div>
            <div class="col-12 col-sm-6 col-md-3">
                <div class="info-box">
                    <span class="info-box-icon bg-success elevation-1"><i class="far fa-clock" style="color:azure;"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Cases In Progress</span>
                        <span class="info-box-number">@TempData["ConfirmedIncidentsByTerm"]</span>
                    </div>
                    <!-- /.info-box-content -->
                </div>
                <!-- /.info-box -->
            </div>
            <!-- /.col -->
            <div class="col-12 col-sm-6 col-md-3">
                <div class="info-box">
                    <span class="info-box-icon bg-primary elevation-1"><i class="far fa-check-circle" style="color:azure;"></i></span>
                    <div class="info-box-content">
                        <span class="info-box-text">Closed Cases</span>
                        <span class="info-box-number">@TempData["ConfirmedIncidentsByTerm"]</span>
                    </div>
                    <!-- /.info-box-content -->
                </div>
                <!-- /.info-box -->
            </div>
            <!-- /.col -->
        </div>

        <!-- /.row -->
        <!-- Main row -->
        <div class="row">
            <!-- Left col -->
            <div class="col-md-8">
                <!-- MAP & BOX PANE -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Student Population By Class</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body p-0">
                        <div class="d-md-flex">
                            <div class="p-1 flex-fill" style="overflow: hidden"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                                <!-- Map will be created here -->
                               
                                <canvas id="myBarChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 521px;" width="781" height="375" class="chartjs-render-monitor"></canvas>

                            </div>
                        </div><!-- /.d-md-flex -->
                    </div>
                    <!-- /.card-body -->
                </div>
                <div class="card box box-primary">
                    <div class="row row-cols-1">
                        <div class="col">
                            <div class="card-header">
                                <h3 class="card-title">Daily Attendance</h3>
                                <div class="card-tools">
                                    <div class="form-group">
                                        <label for="classFilter">Filter by Class:</label>
                                        <select id="classFilter" class="form-control">
                                            <option value="all">All</option>
                                            <option value="Senior One">Senior One</option>
                                            <option value="Senior Two">Senior Two</option>
                                            <option value="Senior Three">Senior Three</option>
                                            <option value="Senior Four">Senior Four</option>
                                            <option value="Senior Five">Senior Five</option>
                                            <option value="Senior Six">Senior Six</option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="card-body p-0">
                                <div class="d-md-flex">
                                    <div class="p-1 flex-fill" style="overflow: hidden">
                                        <canvas id="monthlyAttendanceChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card box box-primary">
                    <div class="card-header">
                        <h3 class="card-title">Student Marks by Exam</h3>
                        <div class="card-tools">
                            <div class="form-group">
                                <label for="examDropdown">Filter By Exam:</label>
                                <select id="examDropdown" class="form-control">
                                    <option value="EOT">EOT</option>
                                    <option value="BOT">BOT</option>
                                    <option value="MID">MID</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="card-body">

                        <div class="chart"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                            <canvas id="myHeatmap" style="min-height: 400px; height: 400px; max-height: 400px; max-width: 100%; display: block; width: 489px;" width="733" height="600" class="chartjs-render-monitor"></canvas>
                        </div>
                    </div>
                </div>

            </div>
            <!-- /.col -->

            <div class="col-md-4">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Student Population By Class</h3>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body p-0">
                        <div class="d-md-flex">
                            <div class="p-1 flex-fill" style="overflow: hidden">
                                <!-- Map will be created here -->
                                <div class="chart"><div class="chartjs-size-monitor"><div class="chartjs-size-monitor-expand"><div class=""></div></div><div class="chartjs-size-monitor-shrink"><div class=""></div></div></div>
                                    <canvas id="myPieChart" style="min-height: 250px; height: 250px; max-height: 250px; max-width: 100%; display: block; width: 521px;" width="781" height="375" class="chartjs-render-monitor"></canvas>
                                </div>
                            </div>
                        </div><!-- /.d-md-flex -->
                    </div>
                    <!-- /.card-body -->
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Active Now</h3>
                        <span class="badge badge-danger" id="userCount"></span>
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body p-0">
                        <ul class="users-list clearfix">
                            <li>
                                <img src="/Files/noimage.png" alt="User Image">
                                <a class="users-list-name" href="#">Alexander Pierce</a>
                                <span class="users-list-date">Today</span>
                            </li>
                            <li>
                                <img src="/Files/noimage.png" alt="User Image">
                                <a class="users-list-name" href="#">Norman</a>
                                <span class="users-list-date">Yesterday</span>
                            </li>
                            <li>
                                <img src="/Files/noimage.png" alt="User Image">
                                <a class="users-list-name" href="#">Jane</a>
                                <span class="users-list-date">12 Jan</span>
                            </li>
                            <li>
                                <img src="/Files/noimage.png" alt="User Image">
                                <a class="users-list-name" href="#">John</a>
                                <span class="users-list-date">12 Jan</span>
                            </li>
                        </ul>
                        <!-- /.users-list -->
                    </div>
                    <!-- /.card-body -->
                    <div class="card-footer text-center">
                        <a href="javascript:">View All Online Users</a>
                    </div>
                    <!-- /.card-footer -->
                </div>

                <!-- Include your SignalR JavaScript code to update the user count -->
                <!-- /.card -->

                <div class="card">
                    <div class="card-header">
                        <div class="card-tools">
                            <button type="button" class="btn btn-tool" data-card-widget="collapse">
                                <i class="fas fa-minus"></i>
                            </button>
                        </div>
                        <h3 class="card-title">Recently Added Disciplinary Cases</h3>
                    </div>
                    <!-- /.card-header -->
                    <div class="card-body p-0">
                        <table class="table table-striped table-sm">
                            <thead>
                                <tr>
                                    <th>Student</th>
                                    <th>Case</th>
                                    <th>Action</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>John Doe</td>
                                    <td>Fighting in the classroom</td>
                                    <td>Suspension</td>
                                </tr>
                                <tr>
                                    <td>Jane Smith</td>
                                    <td>Using inappropriate language</td>
                                    <td>Written warning</td>
                                </tr>
                                <tr>
                                    <td>Robert Johnson</td>
                                    <td>Disrupting class activities</td>
                                    <td>Detention</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="card-footer text-center">
                        <a href="javascript:">View All Cases</a>
                    </div>
                    <!-- /.card-body -->
                </div>
                <!-- /.card -->
            </div>

            <!-- /.col -->
        </div>
    </div><!--/. container-fluid -->
</section>

<script>
    $(document).ready(function () {
        // Get the data from ViewBag
        var labels = ["Bullying"];
        var data = [1];

        // Define the Material Design color palette
        var colorPalette = [
            '#17a2b8', // Indigo
            '#f44336', // Red
            '#4caf50', // Green
            '#ff9800', // Orange
            '#9c27b0', // Purple
            '#2196f3', // Blue
            '#e91e63', // Pink
            '#00bcd4', // Cyan
            '#ffc107', // Amber
            '#607d8b'  // Blue Grey
        ];

        // Create an array to store the backgroundColor for each bar
        var barColors = [];

        // Assign a color from the color palette to each bar
        for (var i = 0; i < data.length; i++) {
            var colorIndex = i % colorPalette.length;
            barColors.push(colorPalette[colorIndex]);
        }

        // Create the bar chart
        var ctx = document.getElementById('myBarChart').getContext('2d');
        var myBarChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Number of Incidents',
                    backgroundColor: barColors,
                    borderColor: 'rgba(23, 162, 184, 1)',
                    borderWidth: 2,
                    data: data,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        grid: {
                            display: false,
                        },
                    },
                    y: {
                        beginAtZero: true,
                        ticks: {
                            stepSize: 20,
                            font: {
                                family: "'Roboto', sans-serif",
                                size: 14,
                            },
                        },
                    },
                },
                plugins: {
                    legend: {
                        display: false,
                    },
                },
                animation: {
                    duration: 2000,
                },
            },
        });
    });
</script>
<script>
    $(document).ready(function () {
        // Get the data from ViewBag
        var labels = ["Bullying"];
        var data = [1];

        // Define the Material Design color palette
        var colorPalette = [
            '#3f51b5', // Indigo
            '#f44336', // Red
            '#4caf50', // Green
            '#ff9800', // Orange
            '#9c27b0', // Purple
            '#2196f3', // Blue
            '#e91e63', // Pink
            '#00bcd4', // Cyan
            '#ffc107', // Amber
            '#607d8b'  // Blue Grey
        ];

        // Create an array to store the backgroundColor for each segment in the Pie Chart
        var segmentColors = [];

        // Assign a color from the color palette to each segment
        for (var i = 0; i < data.length; i++) {
            var colorIndex = i % colorPalette.length;
            segmentColors.push(colorPalette[colorIndex]);
        }

        // Create the Pie Chart
        var ctx = document.getElementById('myPieChart').getContext('2d');
        var myPieChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                    backgroundColor: segmentColors,
                    borderColor: 'rgba(255, 255, 255, 1)',
                    borderWidth: 2,
                    data: data,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                family: "'Roboto', sans-serif",
                                size: 14,
                            }
                        }
                    }
                },
                animation: {
                    duration: 2000,
                },
            },
        });
    });
</script>
<script>
    $(document).ready(function () {
        // Get the data from ViewBag
        var labels = null;
        var data = null;

        // Define the gradient color configuration for the heatmap
        var gradientCfg = {
            gradient: {
                colors: ["#0073b7", "#00ff00", "#ff0000"], // Blue, Green, Red
                values: [0, 50, 100], // Range from 0 to 100
            },
            min: 0,
            max: 100,
            opacity: 1,
        };

        // Create the heatmap
        var ctx = document.getElementById('myHeatmap').getContext('2d');
        var myHeatmap = new Chart(ctx, {
            type: 'heatmap',
            data: {
                labels: labels,
                datasets: [{
                    data: data,
                    borderWidth: 1,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false,
                    },
                    heatmap: gradientCfg,
                },
                scales: {
                    x: {
                        ticks: {
                            display: false,
                        }
                    },
                    y: {
                        ticks: {
                            font: {
                                family: "'Roboto', sans-serif",
                                size: 14,
                            }
                        }
                    },
                },
                animation: {
                    duration: 2000,
                },
            },
        });
    });
</script>